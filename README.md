# CStackTemplate
This is a stack template, it allows you to create and use stacks in C.

## Usage
To create a stack, you have to first define the stack type in the global space with:

<code>import_stack(\<type-name\>, \<stack-type-name\>);</code>

For example, <code>import_stack(int, intstack);</code>.

Aftwerwards, you can treat <code>\<stack-type-name\></code> as a stack type and do the normal stack operations:

```c
intstack mystack = new(intstack); // Create new intstack.
stack_push(mystack, 3); // Push 3 onto the stack.
stack_push(mystack, 8); // Push 8 onto the stack.
int num = stack_peek(mystack); // Peek at the stack.
stack_pop(mystack); // Pop 8 off the stack.
stack_peek(mystack); // Peek at the stack.
stack_push(mystack, 12); // Push 12 onto the stack.
size_t len = stack_size(mystack); // Gets the size of the stack.
stack_clear(mystack); // Clear the stack.
stack_free(mystack); // Free the stack (clears it automatically).
```

You can define stacks for all types - integers, strings, pointers and structures. Struct example:

```c
#include <stdio.h>
#include "stack.h"

import_stack(int, intstack);

void print_stack(intstack stack)
{
	size_t len = stack_size(stack);
	printf("  Size = %zu\n", len);
	if (len)
	{
		printf("  Top  = %d\n", stack_peek(stack));
	}
}

int main(int argc, char **argv)
{
	intstack mystack = new(intstack);
	printf("START:\n");
	print_stack(mystack);
	printf("PUSH : VALUE = 7\n");
	stack_push(mystack, 7);
	print_stack(mystack);
	printf("PUSH : VALUE = 4\n");
	stack_push(mystack, 4);
	print_stack(mystack);
	printf("POP  : RESULT = %d\n", stack_pop(mystack));
	print_stack(mystack);
	printf("CLEAR:\n");
	stack_clear(mystack);
	print_stack(mystack);
	printf("PUSH : VALUE = -123\n");
	stack_push(mystack, -123);
	print_stack(mystack);
	printf("PEEK : RESULT = %d\n", stack_peek(mystack));
	print_stack(mystack);
	stack_free(mystack);
	return 0;
}
```

## Limitations
* While stacks can be defined in headers, doing so may result in those stacks being defined multiple times (once by each C file). This will not cause syntax errors (as all functions generated by <code>stack.h</code> are static), but can result in huge executables.
